/*
* jQuery Form Plugin; v20140218
* http://jquery.malsup.com/form/
* Copyright (c) 2014 M. Alsup; Dual licensed: MIT/GPL
* https://github.com/malsup/form#copyright-and-license
*/
;!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split("&"),g=f.length,h=[];for(d=0;g>d;d++)f[d]=f[d].replace(/\+/g," "),e=f[d].split("="),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return h}function g(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d("cannot get iframe.contentDocument: "+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2("target"),f=l.attr2("action"),g="multipart/form-data",j=l.attr("enctype")||l.attr("encoding")||g;x.setAttribute("target",o),(!i||/post/i.test(i))&&x.setAttribute("method","POST"),f!=m.url&&x.setAttribute("action",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var k=[];try{if(m.extraData)for(var n in m.extraData)m.extraData.hasOwnProperty(n)&&(a.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty("name")&&m.extraData[n].hasOwnProperty("value")?k.push(a('<input type="hidden" name="'+m.extraData[n].name+'">').val(m.extraData[n].value).appendTo(x)[0]):k.push(a('<input type="hidden" name="'+n+'">').val(m.extraData[n]).appendTo(x)[0]));m.iframeTarget||q.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,!1),setTimeout(b,15);try{x.submit()}catch(p){var s=document.createElement("form").submit;s.apply(x)}}finally{x.setAttribute("action",f),x.setAttribute("enctype",j),c?x.setAttribute("target",c):l.removeAttr("target"),a(k).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d("cannot access response document"),b=A),b===z&&s)return s.abort("timeout"),y.reject(s,"timeout"),void 0;if(b==A&&s)return s.abort("server abort"),y.reject(s,"error","server abort"),void 0;if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,!1);var c,f="success";try{if(v)throw"timeout";var g="xml"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),setTimeout(h,250),void 0;var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType="xml"),s.getResponseHeader=function(a){var b={"content-type":m.dataType};return b[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute("status"))||s.status,s.statusText=i.getAttribute("statusText")||s.statusText);var j=(m.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName("textarea")[0];if(l)s.responseText=l.value,s.status=Number(l.getAttribute("status"))||s.status,s.statusText=l.getAttribute("statusText")||s.statusText;else if(k){var o=E.getElementsByTagName("pre")[0],p=E.getElementsByTagName("body")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}else"xml"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText));try{D=J(s,j,m)}catch(t){f="parsererror",s.error=c=t||f}}catch(t){d("error caught: ",t),f="error",s.error=c=t||f}s.aborted&&(d("upload aborted"),f=null),s.status&&(f=s.status>=200&&s.status<300||304===s.status?"success":"error"),"success"===f?(m.success&&m.success.call(m.context,D,"success",s),y.resolve(s.responseText,"success",s),n&&a.event.trigger("ajaxSuccess",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,"error",c),n&&a.event.trigger("ajaxError",[s,m,c])),n&&a.event.trigger("ajaxComplete",[s,m]),n&&!--a.active&&a.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr("src",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c)for(k=0;k<p.length;k++)j=a(p[k]),f?j.prop("disabled",!1):j.removeAttr("disabled");if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2("name"),u?o=u:q.attr2("name",o)):(q=a('<iframe name="'+o+'" src="'+m.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand("Stop")}catch(e){}q.attr("src",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger("ajaxError",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0===a.active++&&a.event.trigger("ajaxStart"),n&&a.event.trigger("ajaxSend",[s,m]),m.beforeSend&&m.beforeSend.call(m.context,s,m)===!1)return m.global&&a.active--,y.reject(),y;if(s.aborted)return y.reject(),y;t=x.clk,t&&(u=t.name,u&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,"image"==t.type&&(m.extraData[u+".x"]=x.clk_x,m.extraData[u+".y"]=x.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&b.beforeSubmit(q,this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(t,arguments)})}else b.success&&s.push(b.success);if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,c,d||l,l])},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),x=w.length>0,y="multipart/form-data",z=l.attr("enctype")==y||l.attr("encoding")==y,A=e.fileapi&&e.formdata;d("fileAPI :"+A);var B,C=(x||z)&&!A;b.iframe!==!1&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",B);for(var D=0;D<p.length;D++)p[D]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f,g=this[0],h=this.attr("id"),i=b?g.getElementsByTagName("*"):g.elements;if(i&&!/MSIE 8/.test(navigator.userAgent)&&(i=a(i).get()),h&&(f=a(":input[form="+h+"]").get(),f.length&&(i=(i||[]).concat(f))),!i||!i.length)return d;var j,k,l,m,n,o,p;for(j=0,o=i.length;o>j;j++)if(n=i[j],l=n.name,l&&!n.disabled)if(b&&g.clk&&"image"==n.type)g.clk==n&&(d.push({name:l,value:a(n).val(),type:n.type}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}));else if(m=a.fieldValue(n,!0),m&&m.constructor==Array)for(c&&c.push(n),k=0,p=m.length;p>k;k++)d.push({name:l,value:m[k]});else if(e.fileapi&&"file"==n.type){c&&c.push(n);var q=n.files;if(q.length)for(k=0;k<q.length;k++)d.push({name:l,value:q[k],type:n.type});else d.push({name:l,value:"",type:n.type})}else null!==m&&"undefined"!=typeof m&&(c&&c.push(n),d.push({name:l,value:m,type:n.type,required:n.required}));if(!b&&g.clk){var r=a(g.clk),s=r[0];l=s.name,l&&!s.disabled&&"image"==s.type&&(d.push({name:l,value:r.val()}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1});
var CacheLibrary=function(){};CacheLibrary.prototype.browserSupportsLocalStorage=function(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}},CacheLibrary.prototype.setLocalStorageItem=function(){},CacheLibrary.prototype.removeLocalStorageItem=function(){},CacheLibrary.prototype.getLocalStorageItem=function(){return null},CacheLibrary.prototype.setLocalStorageCache=function(){this.browserSupportsLocalStorage()&&(this.setLocalStorageItem=function(a,b){localStorage.setItem(a,b)},this.removeLocalStorageItem=function(a){localStorage.removeItem(a)},this.getLocalStorageItem=function(a){return localStorage.getItem(a)})},CacheLibrary=new CacheLibrary,CacheLibrary.setLocalStorageCache();
function getCookie(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""}jQuery(function(a){var b;"true"===CacheLibrary.getLocalStorageItem("gcrud_fullscreen")&&(a(".gc-full-width").find("i.fa:first").toggleClass("fa-expand el-resize-full"),a(".gc-full-width").find("i.fa:first").toggleClass("fa-compress el-resize-small"),a(".gc-container").addClass("container-full no-transition"),a(".gc-container").removeClass("container"),setTimeout(function(){a(".gc-container").removeClass("no-transition")},400)),a(".gc-full-width").click(function(){if(a(this).find("i.fa:first").toggleClass("fa-expand el-resize-full"),a(this).find("i.fa:first").toggleClass("fa-compress el-resize-small"),a(this).closest(".gc-container").hasClass("container-full")){a(this).closest(".gc-container").removeClass("container-full"),a(this).closest(".gc-container").addClass("container");var c=a(this).closest(".gc-container").offset().top-10;return a("html,body").animate({scrollTop:c},750),CacheLibrary.setLocalStorageItem("gcrud_fullscreen","false"),!0}b=a(this).closest(".gc-container").offset(),a(this).closest(".gc-container").css("left",b.left+"px").css("top",b.top+"px").addClass("container-before-resize"),a("html,body").animate({scrollTop:"0"},750),a(this).closest(".gc-container").removeClass("container-before-resize").removeAttr("style").addClass("container-full").removeClass("container"),CacheLibrary.setLocalStorageItem("gcrud_fullscreen","true")}),a(".minimize-maximize").click(function(){a(this).find("i").toggleClass("fa-caret-down").toggleClass("el-caret-down"),a(this).find("i").toggleClass("fa-caret-up").toggleClass("el-caret-up"),a(this).closest(".gc-container").find(".table-container:first").slideToggle("slow")}),a(".gc-full-width").hover(function(){a(this).find("i.fa:first").addClass("fa-lg")},function(){a(this).find("i.fa:first").removeClass("fa-lg")})});
+function(a){function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f=".gc-bootstrap-dropdown",g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},"undefined"!=typeof document&&a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery);
+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b},a.fn.gc_modal=b,a.fn.gc_modal.Constructor=c,"undefined"!=typeof document&&a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery);
/* Project: Bootstrap Growl - v2.0.0 | Author: Mouse0270 aka Robert McIntosh | License: MIT License | Website: https://github.com/mouse0270/bootstrap-growl */
(function(e,t,n,r){var i="growl",s="plugin_"+i,o={element:"body",type:"info",allow_dismiss:true,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:false,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},icon_type:"class",template:'<div data-growl="container" class="alert" role="alert"><button type="button" class="close" data-growl="dismiss"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><span data-growl="icon"></span><span data-growl="title"></span><span data-growl="message"></span><a href="#" data-growl="url"></a></div>'};var u=function(t,n){o=e.extend(true,{},o,n)},a=function(t,n,r){var n={content:{message:typeof n=="object"?n.message:n,title:n.title?n.title:null,icon:n.icon?n.icon:null,url:n.url?n.url:null}};r=e.extend(true,{},n,r);this.settings=e.extend(true,{},o,r);plugin=this;f(r,this.settings,plugin);this.$template=$template},f=function(t,n,r){var i={settings:n,$element:e(n.element),template:n.template};$template=l(i);c($template,i.settings);h($template,i.settings);p($template,i.settings,r)},l=function(t){var n=e(t.settings.template);n.addClass("alert-"+t.settings.type);n.attr("data-growl-position",t.settings.placement.from+"-"+t.settings.placement.align);n.find('[data-growl="dismiss"]').css("display","none");if(t.settings.allow_dismiss){n.find('[data-growl="dismiss"]').css("display","inline-block")}return n},c=function(e,t){e.find('[data-growl="dismiss"]').css({position:"absolute",top:"5px",right:"10px","z-index":t.z_index-1>=1?t.z_index-1:1});if(t.content.icon){if(t.icon_type.toLowerCase()=="class"){e.find('[data-growl="icon"]').addClass(t.content.icon)}else{if(e.find('[data-growl="icon"]').is("img")){e.find('[data-growl="icon"]').attr("src",t.content.icon)}else{e.find('[data-growl="icon"]').append('<img src="'+t.content.icon+'" />')}}}if(t.content.title){e.find('[data-growl="title"]').html(t.content.title)}if(t.content.message){e.find('[data-growl="message"]').html(t.content.message)}if(t.content.url){e.find('[data-growl="url"]').attr("href",t.content.url).attr("target",t.url_target);e.find('[data-growl="url"]').css({position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","z-index":t.z_index-2>=1?t.z_index-2:1})}},h=function(t,n){var r=n.offset,i={position:n.element==="body"?"fixed":"absolute",margin:0,"z-index":n.z_index,display:"inline-block"};e('[data-growl-position="'+n.placement.from+"-"+n.placement.align+'"]').each(function(){return r=Math.max(r,parseInt(e(this).css(n.placement.from))+e(this).outerHeight()+n.spacing)});i[n.placement.from]=r+"px";t.css(i);e(n.element).append(t);switch(n.placement.align){case"center":t.css({left:"50%",marginLeft:-(t.outerWidth()/2)+"px"});break;case"left":t.css("left",n.offset+"px");break;case"right":t.css("right",n.offset+"px");break}t.addClass("growl-animated")},p=function(e,t,n){e.addClass(t.animate.enter);e.find('[data-growl="dismiss"]').on("click",function(){n.close()});e.on("mouseover",function(t){e.addClass("hovering")}).on("mouseout",function(){e.removeClass("hovering")});if(t.delay>=1){e.data("growl-delay",t.delay);var r=setInterval(function(){var i=parseInt(e.data("growl-delay"))-t.timer;if(!e.hasClass("hovering")&&t.mouse_over=="pause"||t.mouse_over!="pause"){e.data("growl-delay",i)}if(i<=0){clearInterval(r);n.close()}},t.timer)}};a.prototype={update:function(e,t){switch(e){case"icon":if(this.settings.icon_type.toLowerCase()=="class"){this.$template.find('[data-growl="icon"]').removeClass(this.settings.content.icon);this.$template.find('[data-growl="icon"]').addClass(t)}else{if(this.$template.find('[data-growl="icon"]').is("img")){this.$template.find('[data-growl="icon"]')}else{this.$template.find('[data-growl="icon"]').find("img").attr().attr("src",t)}}break;case"url":this.$template.find('[data-growl="url"]').attr("href",t);break;case"type":this.$template.removeClass("alert-"+this.settings.type);this.$template.addClass("alert-"+t);break;default:this.$template.find('[data-growl="'+e+'"]').html(t)}return this},close:function(){var t=this.$template,n=this.settings,r=t.css(n.placement.from),i=false;t.addClass(this.settings.animate.exit);t.nextAll('[data-growl-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]').each(function(){e(this).css(n.placement.from,r);r=parseInt(r)+n.spacing+e(this).outerHeight()});t.one("webkitAnimationStart oanimationstart MSAnimationStart animationstart",function(e){i=true});t.one("webkitAnimationEnd oanimationend MSAnimationEnd animationend",function(t){e(this).remove()});setTimeout(function(){if(!i){t.remove()}},100);return this}};e.growl=function(e,t){if(e==false){u(this,t);return false}var n=new a(this,e,t);return n}})(jQuery,window,document)
!function(a){var b;a.fn.printThis=function(c){b=a.extend({},a.fn.printThis.defaults,c);var d=this instanceof jQuery?this:a(this),e="printThis-"+(new Date).getTime();if(window.location.hostname!==document.domain&&navigator.userAgent.match(/msie/i)){var f='javascript:document.write("<head><script>document.domain=\\"'+document.domain+'\\";</script></head><body></body>")',g=document.createElement("iframe");g.name="printIframe",g.id=e,g.className="MSIE",document.body.appendChild(g),g.src=f}else{var h=a("<iframe id='"+e+"' name='printIframe' />");h.appendTo("body")}var i=a("#"+e);b.debug||i.css({position:"absolute",width:"0px",height:"0px",left:"-600px",top:"-600px"}),setTimeout(function(){var c=i.contents();if(b.importCSS&&a("link[rel=stylesheet]").each(function(){var b=a(this).attr("href");if(b){var d=a(this).attr("media")||"all";c.find("head").append("<link type='text/css' rel='stylesheet' href='"+b+"' media='"+d+"'>")}}),b.pageTitle&&c.find("head").append("<title>"+b.pageTitle+"</title>"),b.loadCSS&&c.find("head").append("<link type='text/css' rel='stylesheet' href='"+b.loadCSS+"'>"),b.header&&c.find("body").append(b.header),b.printContainer?c.find("body").append(d.outer()):d.each(function(){c.find("body").append(a(this).html())}),b.formValues){var e=d.find("input");e.length&&e.each(function(){var b=a(this),d=a(this).attr("name"),e=b.is(":checkbox")||b.is(":radio"),f=c.find("input[name="+d+"]"),g=b.val();e?b.is(":checked")&&(b.is(":checkbox")?f.attr("checked","checked"):b.is(":radio")&&c.find("input[name="+d+"][value="+g+"]").attr("checked","checked")):f.val(g)});var f=d.find("select");f.length&&f.each(function(){var b=a(this),d=a(this).attr("name"),e=b.val();c.find("select[name="+d+"]").val(e)});var g=d.find("textarea");g.length&&g.each(function(){var b=a(this),d=a(this).attr("name"),e=b.val();c.find("textarea[name="+d+"]").val(e)})}b.removeInline&&(a.isFunction(a.removeAttr)?c.find("body *").removeAttr("style"):c.find("body *").attr("style","")),setTimeout(function(){i.hasClass("MSIE")?(window.frames.printIframe.focus(),c.find("head").append("<script>  window.print(); </script>")):(i[0].contentWindow.focus(),i[0].contentWindow.print()),d.trigger("done"),b.debug||setTimeout(function(){i.remove()},1e3)},b.printDelay)},333)},a.fn.printThis.defaults={debug:!1,importCSS:!0,printContainer:!0,loadCSS:"",pageTitle:"",removeInline:!1,printDelay:333,header:null,formValues:!0},jQuery.fn.outer=function(){return a(a("<div></div>").html(this.clone())).html()}}(jQuery);
!function(a){"use strict";var b=function(a){this.gcrud_container=a,this.search_timer=null,this.csrf_field=null,this.init=function(){this.facadeInitListeners()},this.facadeInitListeners=function(){this.datagridInit(),this.listenerSelectRow(),this.listenerLoadMoreButton(),this.listenerDeleteMultiple(),this.listenerDeleteRowClick(),this.listenerSearchButton(),this.listenerSearchInput(),this.listenerColumnWithOrdering(),this.listenerRefreshButton(),this.listenerPrintButton(),this.listenerExportButton(),this.listenerPerPage(),this.listenerPagingButtons(),this.listenerSettingsButton(),this.checkCachedData()}};b.SELECTOR_PAGING_PREVIOUS=".paging-previous",b.SELECTOR_PAGING_NEXT=".paging-next",b.SELECTOR_PAGING_FIRST=".paging-first",b.SELECTOR_PAGING_LAST=".paging-last",b.CLASS_DISABLED="disabled",b.CLASS_LOADING="loading-opacity",b.CLASS_PAGING_PREVIOUS="paging-previous",b.CLASS_PAGING_NEXT="paging-next",b.CLASS_PAGING_FIRST="paging-first",b.CLASS_PAGING_LAST="paging-last",b.CLASS_PER_PAGE="per_page",b.prototype.clearFilteringCache=function(){var a=this.gcrud_container.find(".search-button > input.search-input");this.gcrud_container.find(".page-number-hidden").val("1"),this.gcrud_container.find(".page-number-input").val("1"),this.gcrud_container.find(".grocery-crud-table tr:first").find(".active").removeClass("active table-active ordering-desc ordering-asc"),this.gcrud_container.find(".grocery-crud-table tr:first").find(".fa-chevron-up,.fa-chevron-down,.el-chevron-up,.el-chevron-down").remove(),this.gcrud_container.find("td.active").removeClass("active table-active"),this.gcrud_container.find("thead .value-not-empty").removeClass("value-not-empty").val(""),""!==a.val()&&a.val("").trigger("blur"),this.SearchAndOrderingTrigger(),CacheLibrary.removeLocalStorageItem("gcrud_"+unique_hash)},b.prototype.checkCachedData=function(){var c=this.gcrud_container.find("."+b.CLASS_PER_PAGE).val(),d=CacheLibrary.getLocalStorageItem("gcrud_"+unique_hash),e=!1;try{d=null!==d?JSON.parse(d):{}}catch(f){return CacheLibrary.removeLocalStorageItem("gcrud_"+unique_hash),!1}if(void 0===d.per_page||void 0===d.page||void 0===d.order_by)return CacheLibrary.removeLocalStorageItem("gcrud_"+unique_hash),!1;if(c!==d.per_page&&(this.gcrud_container.find("."+b.CLASS_PER_PAGE).val(d.per_page),e=!0),"1"!==d.page&&(this.gcrud_container.find(".page-number-hidden").val(d.page),this.gcrud_container.find(".page-number-input").val(d.page),e=!0),null!==d.order_by[0]){var g=this.gcrud_container.find(".grocery-crud-table tr:first").find(".column-with-ordering[data-order-by="+d.order_by[0]+"]").addClass("active table-active ordering-"+d.order_by[1]),h="asc"===d.order_by[1]?"fa-chevron-up el-chevron-up":"fa-chevron-down el-chevron-down";g.html("<div>"+g.text()+"</div><i class='fa el "+h+"'></i>"),e=!0}if("string"==typeof d.search_text)return a(".search-button").trigger("click"),this.gcrud_container.find(".search-button > input.search-input").val(d.search_text).trigger("change"),!0;if(d.search_text.length>0){var i=this.gcrud_container.find(".gc-search-row");a.each(d.search_field,function(a,b){i.find('input.searchable-input[name="'+b+'"]').val(d.search_text[a])}),e=!0}e&&this.SearchAndOrderingTrigger()},b.prototype.datagridInit=function(){var b,c=this.gcrud_container.find(".success-message");c.is(":empty")||a.growl(c.html(),{type:"success",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}}),b=a("#gcrud-search-form>input[type=hidden]:first"),1===b.length&&(this.csrf_field={name:b.attr("name"),value:b.val(),csrf_cookie_name:csrf_cookie_name},(void 0===this.csrf_field.name||void 0===this.csrf_field.value)&&(this.csrf_field=null))},b.prototype.appendSearchClearButtons=function(){var b=this;b.gcrud_container.find(".clear-search").remove(),b.gcrud_container.find(".grocery-crud-table input.searchable-input").each(function(){return a(this).removeClass("value-not-empty"),""===a(this).val()?!0:(a(this).addClass("value-not-empty"),a(this).after('<i class="fa fa-times el el-remove clear-search"></i>'),void b.gcrud_container.find(".clear-search").click(function(){a(this).closest("td").find(".searchable-input").val("").trigger("keyup")}))})},b.prototype.listenerRefreshButton=function(){var a=this;a.gcrud_container.find(".gc-refresh").click(function(){clearTimeout(a.search_timer),a.SearchAndOrderingTrigger()})},b.prototype.listenerPerPage=function(){var a=this;a.gcrud_container.find("."+b.CLASS_PER_PAGE).change(function(){a.gcrud_container.find(".page-number-hidden").val("1"),a.SearchAndOrderingTrigger()})},b.prototype.setCsrfValue=function(){this.csrf_field.value=getCookie(this.csrf_field.csrf_cookie_name)},b.prototype.listenerExportButton=function(){var b=this;b.gcrud_container.find(".gc-export").click(function(){var c=a(this).data("url"),d="";a.each(b.gcrud_container.find("form").serializeArray(),function(a,b){d=d+'<input type="hidden" name="'+b.name+'" value="'+b.value+'">'}),null!==b.csrf_field&&(b.setCsrfValue(),d+='<input type="hidden" name = "'+b.csrf_field.name+'" value="'+b.csrf_field.value+'"/>'),""!==b.gcrud_container.find(".search-input").val()?d=d+'<input type="hidden" name="search_field" value="" /><input type="hidden" name="search_text" value="'+b.gcrud_container.find(".search-input").val()+'" />':b.gcrud_container.find(".grocery-crud-table thead input").each(function(){""===a(this).val()||a(this).is(":checkbox")||(d=d+'<input type="hidden" name="search_field[]" value="'+a(this).attr("name")+'"><input type="hidden" name="search_text[]" value="'+a(this).val()+'">')}),a("#tmp-form").remove(),a("body").after(a("<form/>").attr("id","tmp-form").attr("method","post").attr("target","_blank").attr("action",c).html(d)),a("#tmp-form").submit()})},b.prototype.listenerPrintButton=function(){var c=this;c.gcrud_container.find(".gc-print").click(function(){var d,e=a(this).data("url"),f="";null!==c.csrf_field&&(c.setCsrfValue(),f+='<input type="hidden" name = "'+c.csrf_field.name+'" value="'+c.csrf_field.value+'"/>'),""!==c.gcrud_container.find(".search-input").val()?f=f+'<input type="hidden" name="search_field" value="" /><input type="hidden" name="search_text" value="'+c.gcrud_container.find(".search-input").val()+'" />':c.gcrud_container.find(".grocery-crud-table thead input").each(function(){""===a(this).val()||a(this).is(":checkbox")||(f=f+'<input type="hidden" name="search_field[]" value="'+a(this).attr("name")+'"><input type="hidden" name="search_text[]" value="'+a(this).val()+'">')}),d=a("<form/>").attr("method","post").attr("action",e).html(f),d.ajaxSubmit({beforeSend:function(){c.gcrud_container.addClass(b.CLASS_LOADING)},complete:function(){c.gcrud_container.removeClass(b.CLASS_LOADING)},error:function(){c.gcrud_container.removeClass(b.CLASS_LOADING)},success:function(d){c.gcrud_container.removeClass(b.CLASS_LOADING),a("<div/>").html(d).printThis()}})})},b.prototype.pagingCalculations=function(){var a=parseInt(this.gcrud_container.find(".page-number-hidden").val(),10),c=this.getMaxPaging();0>=a&&(a=1,this.gcrud_container.find(".page-number-hidden").val("1"),this.gcrud_container.find(".page-number-input").val("1")),1===a?(this.gcrud_container.find(".paging-first").addClass(b.CLASS_DISABLED),this.gcrud_container.find(".paging-previous").addClass(b.CLASS_DISABLED)):(this.gcrud_container.find(".paging-first").removeClass(b.CLASS_DISABLED),this.gcrud_container.find(".paging-previous").removeClass(b.CLASS_DISABLED)),a+1>c?(this.gcrud_container.find(".paging-last").addClass(b.CLASS_DISABLED),this.gcrud_container.find(".paging-next").addClass(b.CLASS_DISABLED)):(this.gcrud_container.find(".paging-last").removeClass(b.CLASS_DISABLED),this.gcrud_container.find(".paging-next").removeClass(b.CLASS_DISABLED)),this.gcrud_container.find(".page-number-input").val(a),a>c&&(this.gcrud_container.find(".page-number-hidden").val(c),this.gcrud_container.find(".page-number-input").val(c))},b.prototype.datagridOnAjaxComplete=function(c){var d,e,f=this.gcrud_container.find("."+b.CLASS_PER_PAGE).val();this.gcrud_container.find(".select-all-none").prop("checked",!1),this.gcrud_container.find(".grocery-crud-table tbody").html(c.tbody_html),a(".current-total-results").html(c.current_total_results),c.current_total_results>10?(e=parseInt(a('input[name="page_number"]').val(),10)*f,e>c.current_total_results&&(e=c.current_total_results),a(".paging-ends").html(e)):a(".paging-ends").html(c.current_total_results),a(".paging-starts").html((parseInt(a('input[name="page_number"]').val(),10)-1)*f+1),d=a(".column-with-ordering.active:first"),d.length>0&&this.gcrud_container.find(".grocery-crud-table").find("thead tr td:nth-child("+(d.index()+2)+"), tbody tr td:nth-child("+(d.index()+2)+")").addClass("active table-active"),c.current_total_results<parseInt(this.gcrud_container.find(".full-total").html(),10)?this.gcrud_container.find(".full-total-container").removeClass("hidden"):this.gcrud_container.find(".full-total-container").addClass("hidden"),this.listenerLoadMoreButton(),this.appendSearchClearButtons(),this.listenerSelectRow(),this.pagingCalculations(),this.hideShowDeleteButton(),this.listenerDeleteRowClick()},b.prototype.SearchAndOrderingTrigger=function(){{var c,d=a(".column-with-ordering.active:first").data("order-by"),e="",f=[],g=[],h=this,i=h.gcrud_container,j=h.gcrud_container.find(".search-button > input.search-input");h.gcrud_container.find("."+b.CLASS_PER_PAGE).val()}this.pagingCalculations(),a(".column-with-ordering.active:first").hasClass("ordering-desc")?e="desc":a(".column-with-ordering.active:first").hasClass("ordering-asc")&&(e="asc"),a(".gc-search-row input.searchable-input").each(function(){""!==a(this).val()&&(f.push(a(this).attr("name")),g.push(a(this).val()))}),f.length>0&&(j.val(""),j.trigger("blur")),""!==j.val()&&(f="",g=j.val()),c={page:i.find('input[name="page_number"]').val(),per_page:i.find("."+b.CLASS_PER_PAGE).val(),order_by:[d,e],search_field:f,search_text:g},CacheLibrary.setLocalStorageItem("gcrud_"+unique_hash,JSON.stringify(c)),this.sendAjaxPost(c,ajax_list_url,this.datagridOnAjaxComplete.bind(this))},b.prototype.listenerSearchInput=function(){var b=this;a(".grocery-crud-table input.searchable-input").on("keyup change",function(c){var d=9===c.keyCode||13===c.keyCode||""===a(this).val()?1:1e3;clearTimeout(b.search_timer),b.search_timer=setTimeout(function(){b.gcrud_container.find(".page-number-hidden").val("1"),b.SearchAndOrderingTrigger()},d)})},b.prototype.listenerSettingsButton=function(){var b=this;this.gcrud_container.find(".settings-button-container").on("show.bs.dropdown",function(){b.clearFilteringListener(a(this))}).on("hide.bs.dropdown",function(){a(this).find(".clear-filtering").unbind("click")})},b.prototype.clearFilteringListener=function(a){var b=this;a.find(".clear-filtering").click(function(){b.clearFilteringCache()})},b.prototype.listenerColumnWithOrdering=function(){var c=this;a(".column-with-ordering").click(function(){var d=a(this).closest(".gc-container"),e=a.trim(a(this).text());d.addClass(b.CLASS_LOADING),a(this).closest(".grocery-crud-table").find("th.active, td.active").removeClass("active table-active"),a(this).parent().find(".column-with-ordering").each(function(){a(this).html(a.trim(a(this).text()))}),a(this).addClass("active table-active"),a(this).closest(".grocery-crud-table").find("thead tr td:nth-child("+(a(this).index()+2)+"), tbody tr td:nth-child("+(a(this).index()+2)+")").addClass("active table-active"),a(this).hasClass("ordering-asc")?(a(this).closest(".grocery-crud-table").find("th").removeClass("ordering-desc").removeClass("ordering-asc"),a(this).html("<div>"+e+"</div><i class='fa el fa-chevron-down el-chevron-down'></i>"),a(this).addClass("ordering-desc").removeClass("ordering-asc")):(a(this).closest(".grocery-crud-table").find("th").removeClass("ordering-desc").removeClass("ordering-asc"),a(this).html("<div>"+e+"</div><i class='fa el fa-chevron-up el-chevron-up'></i>"),a(this).addClass("ordering-asc").removeClass("ordering-desc")),d.find('input[name="page_number"]').val("1"),d.removeClass(b.CLASS_LOADING),c.SearchAndOrderingTrigger()})},b.prototype.listenerSearchButton=function(){var b=this;a(".search-button").click(function(b){b.preventDefault();var c=a(this);c.removeClass("btn-primary").addClass("btn-default").addClass("btn-secondary"),c.find("input.search-input").addClass("search-input-big"),setTimeout(function(){c.find("input.search-input").focus()},400),a(this).addClass("search-button-big")}),a(".search-button>input.search-input").change(function(){b.gcrud_container.find(".search-button .clear-all-search").remove(),""!==a(this).val()&&(a(this).after('<i class="fa fa-times el el-remove clear-all-search"></i>'),b.gcrud_container.find(".search-button .clear-all-search").click(function(){b.gcrud_container.find(".search-button>input.search-input").val("").trigger("change")})),b.gcrud_container.find(".page-number-hidden").val("1"),b.gcrud_container.find(".searchable-input").val(""),b.SearchAndOrderingTrigger()}),a(".search-button>input.search-input").blur(function(){var c=a(this).closest(".search-button");""===a(this).val()&&c.hasClass("search-button-big")&&(b.gcrud_container.find(".search-button .clear-all-search").remove(),a(this).removeClass("search-input-big"),c.removeClass("search-button-big"),c.removeClass("btn-default").removeClass("btn-secondary").addClass("btn-primary"))})},b.prototype.getMaxPaging=function(){var a=parseInt(this.gcrud_container.find(".current-total-results").html(),10),c=parseInt(this.gcrud_container.find("."+b.CLASS_PER_PAGE).val(),10),d=0===a?1:Math.ceil(a/c);return d},b.prototype.listenerPagingButtons=function(){var c=this,d=b.SELECTOR_PAGING_PREVIOUS+", "+b.SELECTOR_PAGING_NEXT+", "+b.SELECTOR_PAGING_FIRST+","+b.SELECTOR_PAGING_LAST,e=c.gcrud_container.find(".page-number-hidden");this.gcrud_container.find(d).click(function(d){return d.preventDefault(),a(this).hasClass(b.CLASS_DISABLED)?void 0:(a(this).hasClass(b.CLASS_PAGING_PREVIOUS)?e.val(parseInt(e.val(),10)-1):a(this).hasClass(b.CLASS_PAGING_NEXT)?e.val(parseInt(e.val(),10)+1):a(this).hasClass(b.CLASS_PAGING_FIRST)?e.val("1"):a(this).hasClass(b.CLASS_PAGING_LAST)&&e.val(c.getMaxPaging()),void c.SearchAndOrderingTrigger())}),this.gcrud_container.find(".page-number-input").change(function(){e.val(isNaN(parseInt(a(this).val(),10))?"1":parseInt(a(this).val(),10)),c.SearchAndOrderingTrigger()})},b.prototype.listenerSelectRow=function(){var b=this;b.gcrud_container.find(".select-row").click(function(){a(this).is(":checked")?a(this).closest("tr").addClass("warning table-warning"):a(this).closest("tr").removeClass("warning table-warning"),b.hideShowDeleteButton()})},b.prototype.hideShowDeleteButton=function(){this.gcrud_container.find(".select-row:checked").length>0?this.gcrud_container.find(".delete-selected-button").removeClass("hidden"):this.gcrud_container.find(".delete-selected-button").addClass("hidden")},b.prototype.sendAjaxPost=function(c,d,e){null!==this.csrf_field&&(this.setCsrfValue(),c[this.csrf_field.name]=this.csrf_field.value),a.ajax({beforeSend:function(){this.gcrud_container.addClass(b.CLASS_LOADING)}.bind(this),data:c,dataType:"json",url:d,success:function(a){e(a)}.bind(this),method:"post"}).always(function(){this.gcrud_container.removeClass(b.CLASS_LOADING)}.bind(this))},b.prototype.calculationsBeforeDelete=function(a){var c=this,d=parseInt(c.gcrud_container.find(".current-total-results").html(),10),e=parseInt(c.gcrud_container.find(".page-number-input").val(),10),f=parseInt(c.gcrud_container.find("."+b.CLASS_PER_PAGE).val(),10);e===c.getMaxPaging()&&d-a<=(c.getMaxPaging()-1)*f&&c.gcrud_container.find('input[name="page_number"]').val(c.getMaxPaging()-1),c.gcrud_container.find(".full-total").html(parseInt(c.gcrud_container.find(".full-total").html(),10)-a)},b.prototype.listenerDeleteMultiple=function(){var b=this;b.gcrud_container.find(".select-all-none").click(function(){b.gcrud_container.find(".select-row").each(a(this).is(":checked")?function(){a(this).prop("checked",!0),a(this).closest("tr").addClass("warning table-warning")}:function(){a(this).prop("checked",!1),a(this).closest("tr").removeClass("warning table-warning")}),b.hideShowDeleteButton()}),this.gcrud_container.find(".delete-selected-button").click(function(){var b;this.gcrud_container.find(".delete-multiple-confirmation").gc_modal(),this.gcrud_container.find(".delete-multiple-confirmation").on("hidden.bs.modal",function(){this.gcrud_container.find(".delete-multiple-confirmation-button").unbind("click")}.bind(this)),b=this.gcrud_container.find(".select-row:checked").length,1===b?(this.gcrud_container.find(".alert-delete-multiple").addClass("hidden"),this.gcrud_container.find(".alert-delete-multiple-one").removeClass("hidden")):(this.gcrud_container.find(".alert-delete-multiple").removeClass("hidden"),this.gcrud_container.find(".delete-items-amount").html(""+b),this.gcrud_container.find(".alert-delete-multiple-one").addClass("hidden")),this.gcrud_container.find(".delete-multiple-confirmation-button").click(function(b){b.preventDefault();var c,d=this.gcrud_container.find(".delete-multiple-confirmation:first"),e=[],f=this.gcrud_container.find(".delete-multiple-confirmation-button").data("target");this.gcrud_container.find(".select-row:checked").each(function(){e.push(a(this).data("id"))}),this.calculationsBeforeDelete(e.length),c={ids:e},this.sendAjaxPost(c,f,function(b){b.success?a.growl(b.success_message,{type:"success",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}}):a.growl(b.error_message,{type:"danger",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}}),d.gc_modal("hide"),this.SearchAndOrderingTrigger()}.bind(this))}.bind(this))}.bind(this))},b.prototype.listenerDeleteRowClick=function(c){var d=this;void 0===c&&(c=this.gcrud_container),c.find(".delete-row").click(function(c){c.preventDefault();var e=a(this);d.gcrud_container.find(".delete-confirmation-button").click(function(c){c.preventDefault();var f=d.gcrud_container.find(".delete-confirmation:first");d.calculationsBeforeDelete(1),a.ajax({beforeSend:function(){d.gcrud_container.addClass(b.CLASS_LOADING)},error:function(){d.gcrud_container.removeClass(b.CLASS_LOADING)},url:e.data("target"),dataType:"json",success:function(b){b.success?a.growl(b.success_message,{type:"success",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}}):a.growl(b.error_message,{type:"danger",delay:1e4,animate:{enter:"animated bounceInDown",exit:"animated bounceOutUp"}}),f.gc_modal("hide"),d.SearchAndOrderingTrigger()}})}),d.gcrud_container.find(".delete-confirmation").gc_modal(),d.gcrud_container.find(".delete-confirmation").on("hidden.bs.modal",function(){d.gcrud_container.find(".delete-confirmation-button").unbind("click")})})},b.prototype.listenerLoadMoreButton=function(){var b=this;b.gcrud_container.find("table.grocery-crud-table>tbody .dropdown").on("show.bs.dropdown",function(){b.listenerDeleteRowClick(a(this))}),b.gcrud_container.find("table.grocery-crud-table>tbody .dropdown").on("hide.bs.dropdown",function(){a(this).find(".delete-row").unbind("click")})},a.fn.datagrid=function(c){var d;return d=a.extend({default_per_page:10},c),this.each(function(){var c=new b(a(this),d);c.init()}),this}}(jQuery);
jQuery(function(a){"use strict";a(".gc-container").datagrid()});