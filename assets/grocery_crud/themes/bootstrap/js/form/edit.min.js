function form_success_message(a){$("#report-success").slideUp("fast"),$("#report-success").html(a),$("#report-success").slideDown("normal"),$("#report-error").slideUp("fast").html("")}function form_error_message(a){$("#report-error").slideUp("fast"),$("#report-error").html(a),$("#report-error").slideDown("normal"),$("#report-success").slideUp("fast").html("")}jQuery(function(a){var b,c=!1,d=null;b=a("#crudForm>input[type=hidden]:first"),1===b.length&&(d={name:b.attr("name"),value:b.val(),csrf_cookie_name:csrf_cookie_name},(void 0===d.name||void 0===d.value||""===d.csrf_cookie_name)&&(d=null)),a("#save-and-go-back-button").click(function(){c=!0,a("#crudForm").trigger("submit")}),a("#crudForm").submit(function(){a(this);return null!==d&&b.val(getCookie(d.csrf_cookie_name)),a(this).ajaxSubmit({url:validation_url,dataType:"json",cache:"false",success:function(e){null!==d&&b.val(getCookie(d.csrf_cookie_name)),e.success?a("#crudForm").ajaxSubmit({dataType:"text",cache:"false",beforeSend:function(){a("#FormLoading").show()},success:function(b){if(e=a.parseJSON(b),e.success){if(c)return 0===a("#save-and-go-back-button").closest(".ui-dialog").length?window.location=e.success_list_url:(a(".ui-dialog-content").dialog("close"),success_message(e.success_message)),!0;form_success_message(e.success_message)}else form_error_message(message_update_error)},error:function(){form_error_message(message_update_error)}}):(a(".has-error").removeClass("has-error"),a("#report-error").slideUp("fast"),a("#report-error").html(e.error_message),a.each(e.error_fields,function(b){a("input[name="+b+"]").closest(".form-group").addClass("has-error")}),a("#report-error").slideDown("normal"),a("#report-success").slideUp("fast").html(""))},error:function(){null!==d&&b.val(getCookie(d.csrf_cookie_name)),alert(message_update_error)}}),!1}),0===a("#cancel-button").closest(".ui-dialog").length&&a("#cancel-button").click(function(){return window.location=list_url,!1})});